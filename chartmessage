{activeTab === "charts" && response.charts && (
  <div className="animate-fadeIn">
    {(() => {
      try {
        return <ChartAccordion charts={response.charts} />;
      } catch (err) {
        console.error("Chart rendering error:", err);
        return (
          <div className="text-red-600 text-sm mt-4">
            Failed to render chart.
          </div>
        );
      }
    })()}
  </div>
)}
